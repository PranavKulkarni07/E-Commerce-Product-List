{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import*as d3 from\"d3\";//Component for Rendering a Bar Chart\nimport{jsx as _jsx}from\"react/jsx-runtime\";const PriceRangeBarChart=_ref=>{let{priceRanges}=_ref;const barChartRef=useRef();const xRef=useRef();const margin={top:20,right:30,bottom:70,left:60};const width=650-margin.left-margin.right;const height=450-margin.top-margin.bottom;useEffect(()=>{if(!priceRanges||Object.keys(priceRanges).length===0){return;}const svg=d3.select(barChartRef.current);const data=Object.entries(priceRanges).map(_ref2=>{let[range,count]=_ref2;return{range,count};});xRef.current=d3.scaleBand().domain(data.map(d=>d.range)).range([0,width]).padding(0.1);const y=d3.scaleLinear().domain([0,d3.max(data,d=>d.count)]).nice().range([height,0]);const color=d3.scaleOrdinal(d3.schemeCategory10);svg.selectAll(\"*\").remove();// Bars\nsvg.append(\"g\").attr(\"transform\",\"translate(\".concat(margin.left,\",\").concat(margin.top,\")\")).selectAll(\"rect\").data(data).enter().append(\"rect\").attr(\"x\",d=>xRef.current(d.range)).attr(\"y\",d=>y(d.count)).attr(\"width\",xRef.current.bandwidth()).attr(\"height\",d=>height-y(d.count)).attr(\"fill\",d=>color(d.range));// X-axis\nsvg.append(\"g\").attr(\"transform\",\"translate(\".concat(margin.left,\", \").concat(height+margin.top,\")\")).call(d3.axisBottom(xRef.current)).selectAll(\"text\").attr(\"transform\",\"rotate(-45)\").style(\"text-anchor\",\"end\").attr(\"dx\",\"-0.5em\").attr(\"dy\",\"0.5em\");// Y-axis\nsvg.append(\"g\").attr(\"transform\",\"translate(\".concat(margin.left,\", \").concat(margin.top,\")\")).call(d3.axisLeft(y));// X-axis label\nsvg.append(\"text\").attr(\"transform\",\"translate(\".concat(width/2+margin.left,\",\").concat(height+margin.top+60,\")\")).style(\"text-anchor\",\"middle\").text(\"Price Range\");// Y-axis label\nsvg.append(\"text\").attr(\"transform\",\"translate(\".concat(margin.left-40,\",\").concat(height/2+margin.top,\")rotate(-90)\")).style(\"text-anchor\",\"middle\").text(\"Number of items\");},[priceRanges,width,height,margin.left,margin.top]);return/*#__PURE__*/ (// Renders a Bar Chart based on Price Ranges\n_jsx(\"div\",{className:\"bcc\",children:/*#__PURE__*/_jsx(\"svg\",{ref:barChartRef,width:width+margin.left+margin.right,height:height+margin.top+margin.bottom})}));};export default PriceRangeBarChart;","map":{"version":3,"names":["React","useEffect","useRef","d3","jsx","_jsx","PriceRangeBarChart","_ref","priceRanges","barChartRef","xRef","margin","top","right","bottom","left","width","height","Object","keys","length","svg","select","current","data","entries","map","_ref2","range","count","scaleBand","domain","d","padding","y","scaleLinear","max","nice","color","scaleOrdinal","schemeCategory10","selectAll","remove","append","attr","concat","enter","bandwidth","call","axisBottom","style","axisLeft","text","className","children","ref"],"sources":["C:/Users/SHRIKRISHNA/Desktop/Roxiler_Task/Client/products/src/Charts/PriceRangeBarChart.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\n//Component for Rendering a Bar Chart\r\nconst PriceRangeBarChart = ({ priceRanges }) => {\r\n  const barChartRef = useRef();\r\n  const xRef = useRef();\r\n\r\n  const margin = { top: 20, right: 30, bottom: 70, left: 60 };\r\n  const width = 650 - margin.left - margin.right;\r\n  const height = 450 - margin.top - margin.bottom;\r\n\r\n  useEffect(() => {\r\n    if (!priceRanges || Object.keys(priceRanges).length === 0) {\r\n      return;\r\n    }\r\n\r\n    const svg = d3.select(barChartRef.current);\r\n\r\n    const data = Object.entries(priceRanges).map(([range, count]) => ({\r\n      range,\r\n      count,\r\n    }));\r\n\r\n    xRef.current = d3\r\n      .scaleBand()\r\n      .domain(data.map((d) => d.range))\r\n      .range([0, width])\r\n      .padding(0.1);\r\n\r\n    const y = d3\r\n      .scaleLinear()\r\n      .domain([0, d3.max(data, (d) => d.count)])\r\n      .nice()\r\n      .range([height, 0]);\r\n\r\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\r\n\r\n    svg.selectAll(\"*\").remove();\r\n\r\n    // Bars\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`)\r\n      .selectAll(\"rect\")\r\n      .data(data)\r\n      .enter()\r\n      .append(\"rect\")\r\n      .attr(\"x\", (d) => xRef.current(d.range))\r\n      .attr(\"y\", (d) => y(d.count))\r\n      .attr(\"width\", xRef.current.bandwidth())\r\n      .attr(\"height\", (d) => height - y(d.count))\r\n      .attr(\"fill\", (d) => color(d.range));\r\n\r\n    // X-axis\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left}, ${height + margin.top})`)\r\n      .call(d3.axisBottom(xRef.current))\r\n      .selectAll(\"text\")\r\n      .attr(\"transform\", \"rotate(-45)\")\r\n      .style(\"text-anchor\", \"end\")\r\n      .attr(\"dx\", \"-0.5em\")\r\n      .attr(\"dy\", \"0.5em\");\r\n\r\n    // Y-axis\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`)\r\n      .call(d3.axisLeft(y));\r\n\r\n    // X-axis label\r\n    svg\r\n      .append(\"text\")\r\n      .attr(\r\n        \"transform\",\r\n        `translate(${width / 2 + margin.left},${height + margin.top + 60})`\r\n      )\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text(\"Price Range\");\r\n\r\n    // Y-axis label\r\n    svg\r\n      .append(\"text\")\r\n      .attr(\r\n        \"transform\",\r\n        `translate(${margin.left - 40},${height / 2 + margin.top})rotate(-90)`\r\n      )\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text(\"Number of items\");\r\n  }, [priceRanges, width, height, margin.left, margin.top]);\r\n\r\n  return (\r\n    // Renders a Bar Chart based on Price Ranges\r\n    <div className=\"bcc\">\r\n      <svg\r\n        ref={barChartRef}\r\n        width={width + margin.left + margin.right}\r\n        height={height + margin.top + margin.bottom}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PriceRangeBarChart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}