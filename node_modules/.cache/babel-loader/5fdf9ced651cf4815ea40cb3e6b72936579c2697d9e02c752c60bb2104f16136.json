{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SHRIKRISHNA\\\\Desktop\\\\Roxiler_Task\\\\Client\\\\products\\\\src\\\\Charts\\\\PriceRangeBarChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PriceRangeBarChart = ({\n  priceRanges\n}) => {\n  _s();\n  const barChartRef = useRef();\n  const xRef = useRef(); // Use useRef for x\n\n  const margin = {\n    top: 20,\n    right: 30,\n    bottom: 70,\n    left: 60\n  };\n  const width = 650 - margin.left - margin.right; // Adjusted width\n  const height = 450 - margin.top - margin.bottom;\n  useEffect(() => {\n    if (!priceRanges || Object.keys(priceRanges).length === 0) {\n      return;\n    }\n    const svg = d3.select(barChartRef.current);\n    const data = Object.entries(priceRanges).map(([range, count]) => ({\n      range,\n      count\n    }));\n    xRef.current = d3.scaleBand().domain(data.map(d => d.range)).range([0, width]).padding(0.1);\n    const y = d3.scaleLinear().domain([0, d3.max(data, d => d.count)]).nice().range([height, 0]);\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\n    svg.selectAll(\"*\").remove();\n\n    // Bars\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`).selectAll(\"rect\").data(data).enter().append(\"rect\").attr(\"x\", d => xRef.current(d.range)) // Use xRef.current instead of x\n    .attr(\"y\", d => y(d.count)).attr(\"width\", xRef.current.bandwidth()) // Use xRef.current instead of x\n    .attr(\"height\", d => height - y(d.count)).attr(\"fill\", d => color(d.range));\n\n    // X-axis\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left}, ${height + margin.top})`).call(d3.axisBottom(xRef.current)).selectAll(\"text\").attr(\"transform\", \"rotate(-45)\").style(\"text-anchor\", \"end\").attr(\"dx\", \"-0.5em\").attr(\"dy\", \"0.5em\");\n\n    // Y-axis\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left}, ${margin.top})`).call(d3.axisLeft(y));\n\n    // X-axis label\n    svg.append(\"text\").attr(\"transform\", `translate(${width / 2 + margin.left},${height + margin.top + 60})`).style(\"text-anchor\", \"middle\").style(\"font-size\", \"12px\").text(\"Price Range\");\n\n    // Y-axis label\n    svg.append(\"text\").attr(\"transform\", `translate(${margin.left - 40},${height / 2 + margin.top})rotate(-90)`).style(\"text-anchor\", \"middle\").style(\"font-size\", \"12px\").text(\"Number of items\");\n  }, [priceRanges, width, height, margin.left, margin.top]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: barChartRef,\n    width: width + margin.left + margin.right,\n    height: height + margin.top + margin.bottom\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(PriceRangeBarChart, \"kwdeSl1/IIvYPj0YNPaJD+MZjZs=\");\n_c = PriceRangeBarChart;\nexport default PriceRangeBarChart;\nvar _c;\n$RefreshReg$(_c, \"PriceRangeBarChart\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","PriceRangeBarChart","priceRanges","_s","barChartRef","xRef","margin","top","right","bottom","left","width","height","Object","keys","length","svg","select","current","data","entries","map","range","count","scaleBand","domain","d","padding","y","scaleLinear","max","nice","color","scaleOrdinal","schemeCategory10","selectAll","remove","append","attr","enter","bandwidth","call","axisBottom","style","axisLeft","text","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/SHRIKRISHNA/Desktop/Roxiler_Task/Client/products/src/Charts/PriceRangeBarChart.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst PriceRangeBarChart = ({ priceRanges }) => {\r\n  const barChartRef = useRef();\r\n  const xRef = useRef(); // Use useRef for x\r\n\r\n  const margin = { top: 20, right: 30, bottom: 70, left: 60 };\r\n  const width = 650 - margin.left - margin.right; // Adjusted width\r\n  const height = 450 - margin.top - margin.bottom;\r\n\r\n  useEffect(() => {\r\n    if (!priceRanges || Object.keys(priceRanges).length === 0) {\r\n      return;\r\n    }\r\n\r\n    const svg = d3.select(barChartRef.current);\r\n\r\n    const data = Object.entries(priceRanges).map(([range, count]) => ({\r\n      range,\r\n      count,\r\n    }));\r\n\r\n    xRef.current = d3\r\n      .scaleBand()\r\n      .domain(data.map((d) => d.range))\r\n      .range([0, width])\r\n      .padding(0.1);\r\n\r\n    const y = d3\r\n      .scaleLinear()\r\n      .domain([0, d3.max(data, (d) => d.count)])\r\n      .nice()\r\n      .range([height, 0]);\r\n\r\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\r\n\r\n    svg.selectAll(\"*\").remove();\r\n\r\n    // Bars\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`)\r\n      .selectAll(\"rect\")\r\n      .data(data)\r\n      .enter()\r\n      .append(\"rect\")\r\n      .attr(\"x\", (d) => xRef.current(d.range)) // Use xRef.current instead of x\r\n      .attr(\"y\", (d) => y(d.count))\r\n      .attr(\"width\", xRef.current.bandwidth()) // Use xRef.current instead of x\r\n      .attr(\"height\", (d) => height - y(d.count))\r\n      .attr(\"fill\", (d) => color(d.range));\r\n\r\n    // X-axis\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left}, ${height + margin.top})`)\r\n      .call(d3.axisBottom(xRef.current))\r\n      .selectAll(\"text\")\r\n      .attr(\"transform\", \"rotate(-45)\")\r\n      .style(\"text-anchor\", \"end\")\r\n      .attr(\"dx\", \"-0.5em\")\r\n      .attr(\"dy\", \"0.5em\");\r\n\r\n    // Y-axis\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`)\r\n      .call(d3.axisLeft(y));\r\n\r\n    // X-axis label\r\n    svg\r\n      .append(\"text\")\r\n      .attr(\r\n        \"transform\",\r\n        `translate(${width / 2 + margin.left},${height + margin.top + 60})`\r\n      )\r\n      .style(\"text-anchor\", \"middle\")\r\n      .style(\"font-size\", \"12px\")\r\n      .text(\"Price Range\");\r\n\r\n    // Y-axis label\r\n    svg\r\n      .append(\"text\")\r\n      .attr(\r\n        \"transform\",\r\n        `translate(${margin.left - 40},${height / 2 + margin.top})rotate(-90)`\r\n      )\r\n      .style(\"text-anchor\", \"middle\")\r\n      .style(\"font-size\", \"12px\")\r\n      .text(\"Number of items\");\r\n  }, [priceRanges, width, height, margin.left, margin.top]);\r\n\r\n  return (\r\n    <svg\r\n      ref={barChartRef}\r\n      width={width + margin.left + margin.right}\r\n      height={height + margin.top + margin.bottom}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PriceRangeBarChart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}