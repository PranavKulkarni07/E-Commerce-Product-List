{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SHRIKRISHNA\\\\Desktop\\\\Roxiler_Task\\\\Client\\\\products\\\\src\\\\Charts\\\\PriceRangeBarChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PriceRangeBarChart = ({\n  priceRanges\n}) => {\n  _s();\n  const chartRef = useRef();\n  const margin = {\n    top: 20,\n    right: 30,\n    bottom: 50,\n    left: 60\n  };\n  const width = 800 - margin.left - margin.right;\n  const height = 400 - margin.top - margin.bottom;\n  let x; // Declare x outside useEffect\n\n  useEffect(() => {\n    if (!priceRanges || Object.keys(priceRanges).length === 0) {\n      return;\n    }\n    const svg = d3.select(chartRef.current);\n    const data = Object.entries(priceRanges).map(([range, count]) => ({\n      range,\n      count\n    }));\n    x = d3.scaleBand().domain(data.map(d => d.range)).range([0, width]).padding(0.1);\n    const y = d3.scaleLinear().domain([0, d3.max(data, d => d.count)]).nice().range([height, 0]);\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\n    svg.selectAll(\"*\").remove();\n\n    // Bars\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`).selectAll(\"rect\").data(data).enter().append(\"rect\").attr(\"x\", d => x(d.range)).attr(\"y\", d => y(d.count)).attr(\"width\", x.bandwidth()).attr(\"height\", d => height - y(d.count)).attr(\"fill\", d => color(d.range)); // Set color based on range\n\n    // X-axis\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left}, ${height + margin.top})`).call(d3.axisBottom(x)).selectAll(\"text\").attr(\"transform\", \"rotate(-45)\") // Rotate x-axis labels for better visibility\n    .style(\"text-anchor\", \"end\"); // Align x-axis labels to the end\n\n    // Y-axis\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left}, ${margin.top})`).call(d3.axisLeft(y));\n\n    // X-axis label\n    svg.append(\"text\").attr(\"transform\", `translate(${width / 2 + margin.left},${height + margin.top + 40})`).style(\"text-anchor\", \"middle\").text(\"Price Range\");\n\n    // Y-axis label\n    svg.append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 0 - margin.left).attr(\"x\", 0 - height / 2 - margin.top).attr(\"dy\", \"1em\").style(\"text-anchor\", \"middle\").text(\"Count\");\n  }, [priceRanges, width, height, margin.left, margin.top]);\n\n  // Handle window resize\n  const handleResize = () => {\n    const svg = d3.select(chartRef.current);\n    const width = svg.node().getBoundingClientRect().width - margin.left - margin.right;\n\n    // Update the chart with the new width\n    svg.selectAll(\"rect\").attr(\"width\", width / priceRanges.length - 2);\n    svg.select(\".x-axis\").call(d3.axisBottom(x));\n  };\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [handleResize]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: chartRef,\n    viewBox: `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`,\n    children: /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis\",\n      transform: `translate(${margin.left}, ${height + margin.top})`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n_s(PriceRangeBarChart, \"upnI9q7OlS2adbeNfFaNwdmyYhc=\");\n_c = PriceRangeBarChart;\nexport default PriceRangeBarChart;\nvar _c;\n$RefreshReg$(_c, \"PriceRangeBarChart\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","PriceRangeBarChart","priceRanges","_s","chartRef","margin","top","right","bottom","left","width","height","x","Object","keys","length","svg","select","current","data","entries","map","range","count","scaleBand","domain","d","padding","y","scaleLinear","max","nice","color","scaleOrdinal","schemeCategory10","selectAll","remove","append","attr","enter","bandwidth","call","axisBottom","style","axisLeft","text","handleResize","node","getBoundingClientRect","window","addEventListener","removeEventListener","ref","viewBox","children","className","transform","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/SHRIKRISHNA/Desktop/Roxiler_Task/Client/products/src/Charts/PriceRangeBarChart.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst PriceRangeBarChart = ({ priceRanges }) => {\r\n  const chartRef = useRef();\r\n  const margin = { top: 20, right: 30, bottom: 50, left: 60 };\r\n  const width = 800 - margin.left - margin.right;\r\n  const height = 400 - margin.top - margin.bottom;\r\n\r\n  let x; // Declare x outside useEffect\r\n\r\n  useEffect(() => {\r\n    if (!priceRanges || Object.keys(priceRanges).length === 0) {\r\n      return;\r\n    }\r\n\r\n    const svg = d3.select(chartRef.current);\r\n\r\n    const data = Object.entries(priceRanges).map(([range, count]) => ({\r\n      range,\r\n      count,\r\n    }));\r\n\r\n    x = d3\r\n      .scaleBand()\r\n      .domain(data.map((d) => d.range))\r\n      .range([0, width])\r\n      .padding(0.1);\r\n\r\n    const y = d3\r\n      .scaleLinear()\r\n      .domain([0, d3.max(data, (d) => d.count)])\r\n      .nice()\r\n      .range([height, 0]);\r\n\r\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\r\n\r\n    svg.selectAll(\"*\").remove();\r\n\r\n    // Bars\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`)\r\n      .selectAll(\"rect\")\r\n      .data(data)\r\n      .enter()\r\n      .append(\"rect\")\r\n      .attr(\"x\", (d) => x(d.range))\r\n      .attr(\"y\", (d) => y(d.count))\r\n      .attr(\"width\", x.bandwidth())\r\n      .attr(\"height\", (d) => height - y(d.count))\r\n      .attr(\"fill\", (d) => color(d.range)); // Set color based on range\r\n\r\n    // X-axis\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left}, ${height + margin.top})`)\r\n      .call(d3.axisBottom(x))\r\n      .selectAll(\"text\")\r\n      .attr(\"transform\", \"rotate(-45)\") // Rotate x-axis labels for better visibility\r\n      .style(\"text-anchor\", \"end\"); // Align x-axis labels to the end\r\n\r\n    // Y-axis\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`)\r\n      .call(d3.axisLeft(y));\r\n\r\n    // X-axis label\r\n    svg\r\n      .append(\"text\")\r\n      .attr(\r\n        \"transform\",\r\n        `translate(${width / 2 + margin.left},${height + margin.top + 40})`\r\n      )\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text(\"Price Range\");\r\n\r\n    // Y-axis label\r\n    svg\r\n      .append(\"text\")\r\n      .attr(\"transform\", \"rotate(-90)\")\r\n      .attr(\"y\", 0 - margin.left)\r\n      .attr(\"x\", 0 - height / 2 - margin.top)\r\n      .attr(\"dy\", \"1em\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text(\"Count\");\r\n  }, [priceRanges, width, height, margin.left, margin.top]);\r\n\r\n  // Handle window resize\r\n  const handleResize = () => {\r\n    const svg = d3.select(chartRef.current);\r\n    const width =\r\n      svg.node().getBoundingClientRect().width - margin.left - margin.right;\r\n\r\n    // Update the chart with the new width\r\n    svg.selectAll(\"rect\").attr(\"width\", width / priceRanges.length - 2);\r\n    svg.select(\".x-axis\").call(d3.axisBottom(x));\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, [handleResize]);\r\n\r\n  return (\r\n    <svg\r\n      ref={chartRef}\r\n      viewBox={`0 0 ${width + margin.left + margin.right} ${\r\n        height + margin.top + margin.bottom\r\n      }`}\r\n    >\r\n      <g\r\n        className=\"x-axis\"\r\n        transform={`translate(${margin.left}, ${height + margin.top})`}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default PriceRangeBarChart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}